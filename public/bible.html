<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>강해 설교 작성</title>
</head>
<body style="background:#10131c; color:white; font-family:sans-serif;">

  <h2>📖 강해 설교 작성</h2>
  
  <label>성경 입력 (예: 창세기 1장 1절): </label>
  <input id="verseInput" placeholder="창세기1장1절">
  <button onclick="loadBibleText()">📘 말씀 불러오기</button>
  
  <br><br>
  <textarea id="verseOutput" rows="5" cols="50" placeholder="성경 구절이 여기에 표시됩니다..."></textarea>
  
  <script>
    const bookMap = {
      "창세기": "Genesis", "출애굽기": "Exodus", "레위기": "Leviticus",
      "민수기": "Numbers", "신명기": "Deuteronomy",
      "마태복음": "Matthew", "마가복음": "Mark",
      "누가복음": "Luke", "요한복음": "John"
    };

    function parseKoreanVerse(input) {
      const match = input.match(/(\S+)\s*(\d+)장\s*(\d+)절/);
      if (!match) return null;
      const [, korBook, chapter, verse] = match;
      const engBook = bookMap[korBook];
      return engBook ? `${engBook} ${chapter}:${verse}` : null;
    }

    async function loadBibleText() {
      const input = document.getElementById("verseInput").value;
      const key = parseKoreanVerse(input);
      if (!key) {
        document.getElementById("verseOutput").value = "❌ 입력 형식 오류";
        return;
      }
      const response = await fetch("krv.json");
      const data = await response.json();
      document.getElementById("verseOutput").value = data[key] || "❌ 구절을 찾을 수 없습니다.";
    }
  </script>

</body>
</html>
