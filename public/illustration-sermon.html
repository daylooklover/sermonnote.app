<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì˜ˆí™” ì¤‘ì‹¬ ì„¤êµ ì‘ì„±ê¸° (ëª©íšŒììš©)</title>
  <style>
    body {
      font-family: 'Nanum Gothic', sans-serif;
      background: linear-gradient(135deg, #1c1c2b, #28313b);
      margin: 0;
      color: #f0e6d2;
      display: flex;
      justify-content: center;
      align-items: flex-start; /* ìƒë‹¨ ì •ë ¬ */
      min-height: 100vh;
      padding: 40px 20px; /* ìƒí•˜ì¢Œìš° íŒ¨ë”© ì¶”ê°€ */
      box-sizing: border-box;
    }
    .container {
      display: flex;
      flex-wrap: wrap; /* ë°˜ì‘í˜•ì„ ìœ„í•´ ì¤„ë°”ê¿ˆ í—ˆìš© */
      background: rgba(255, 255, 255, 0.95);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      max-width: 1400px; /* ì „ì²´ ë„ˆë¹„ ì œí•œì„ ë” ë„“ê²Œ */
      width: 100%;
      gap: 20px; /* ì»¬ëŸ¼ ê°„ ê°„ê²© */
      box-sizing: border-box;
    }
    .column {
      flex: 1;
      min-width: 350px; /* ìµœì†Œ ë„ˆë¹„ ì„¤ì • ì•½ê°„ ì¦ê°€ */
      padding: 20px;
      background: #f9f9f9;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      box-sizing: border-box;
    }
    .column.left {
      max-width: 500px; /* ì˜ˆí™” ì„ íƒ ì»¬ëŸ¼ ë„ˆë¹„ ì œí•œ ì•½ê°„ ì¦ê°€ */
    }
    .column.right {
      flex: 2; /* ì„¤êµ ì‘ì„± ì»¬ëŸ¼ ë” ë„“ê²Œ */
      /* ì„¤êµë¬¸ ì‘ì„± ë°°ê²½ì„ ë…¸íŠ¸ ì´ë¯¸ì§€ë¡œ ë³€ê²½ */
      background: linear-gradient(to bottom, #fff 29px, #f0f0f0 30px),
                  url('https://www.transparenttextures.com/patterns/lined-paper.png');
      background-size: 100% 30px;
      background-repeat: repeat-y;
      color: #333; /* ë…¸íŠ¸ ë°°ê²½ì— ë§ì¶° í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
      border-radius: 10px; /* ê¸°ì¡´ ë‘¥ê·¼ ëª¨ì„œë¦¬ ìœ ì§€ */
      box-shadow: 0 5px 15px rgba(0,0,0,0.1); /* ê¸°ì¡´ ê·¸ë¦¼ì ìœ ì§€ */
      padding: 20px; /* ê¸°ì¡´ íŒ¨ë”© ìœ ì§€ */
    }

    h2 {
      color: #222;
      text-align: center;
      margin-bottom: 25px;
      font-size: 1.8rem;
    }
    label {
      color: #222;
      font-weight: bold;
      margin-bottom: 5px;
      display: block;
      margin-top: 15px;
      font-size: 1rem;
    }
    textarea, input[type="text"] {
      width: calc(100% - 24px); /* íŒ¨ë”© ê³ ë ¤ */
      padding: 12px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 15px;
      box-sizing: border-box;
      resize: vertical;
      background-color: #fff;
      color: #222;
    }
    textarea {
      line-height: 30px;
      background: transparent; /* ë¶€ëª¨ ì»¬ëŸ¼ ë°°ê²½ì´ ë³´ì´ë„ë¡ íˆ¬ëª… ì„¤ì • */
      box-shadow: none; /* ê¸°ì¡´ ê·¸ë¦¼ì ì œê±° (ë¶€ëª¨ê°€ ê´€ë¦¬) */
      min-height: 400px; /* ì„¤êµë¬¸ ì‘ì„±ë€ ë†’ì´ ì¦ê°€ */
    }
    .button-group {
      margin-top: 15px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      background: #ffea00;
      color: #222;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: background 0.3s, transform 0.2s, box-shadow 0.2s;
    }
    button:hover:not(:disabled) {
      background: #fff176;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }
    button:disabled {
      background: #ccc;
      color: #666;
      cursor: not-allowed;
      box-shadow: none;
      transform: none;
    }
    #micBtn {
      border-radius: 50%;
      width: 45px;
      height: 45px;
      font-size: 1.3rem;
      vertical-align: middle;
      background: #ff5252;
      color: white;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      margin-left: 5px;
      box-shadow: 0 4px 8px rgba(255, 82, 82, 0.4);
    }
    #micBtn.active {
      background: #e00000;
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0%   { box-shadow: 0 0 0 0 rgba(244,67,54,0.7); }
      70%  { box-shadow: 0 0 0 10px rgba(244,67,54,0); }
      100% { box-shadow: 0 0 0 0 rgba(244,67,54,0); }
    }
    .illustration-list {
      margin-top: 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      min-height: 200px;
      background: #eee;
      color: #333;
    }
    .illustration-item {
      background: #fff;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      padding: 12px;
      margin-bottom: 10px;
      cursor: pointer;
      font-size: 0.95rem;
      line-height: 1.5;
      transition: background-color 0.2s, border-color 0.2s;
      white-space: pre-wrap; /* ì¤„ë°”ê¿ˆ ìœ ì§€ */
    }
    .illustration-item:hover {
      background-color: #f0f0f0;
      border-color: #c0c0c0;
    }
    .message-box {
      margin-top: 15px;
      padding: 10px;
      border-radius: 8px;
      font-size: 0.9rem;
      color: #fff;
      background-color: #555;
    }
    .message-box.loading { background-color: #4a90e2; }
    .message-box.error { background-color: #d0021b; }
    .message-box.warning { background-color: #f5a623; }
  </style>
</head>
<body>

  <div class="container">
    <div class="column left">
      <h2>âœ¨ ì˜ˆí™” ì°¾ê¸° / ìƒì„± âœ¨</h2>
      <label for="illustrationTopic">ì˜ˆí™” ì£¼ì œ ì…ë ¥</label>
      <input type="text" id="illustrationTopic" placeholder="ì˜ˆ: ê¸¸ ìƒì€ ë‚˜ê·¸ë„¤, ìš©ì„œ, í¬ìƒ">
      <div class="button-group">
        <button id="generateIllustrationsBtn">AI ì˜ˆí™” ì¶”ì²œ (5ê°œ)</button>
        <button id="micBtnTopic">ğŸ¤ ìŒì„± ì…ë ¥</button>
      </div>
      <div id="illustrationMessage" class="message-box">AIê°€ ì¶”ì²œí•  ì˜ˆí™”ê°€ ì—¬ê¸°ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</div>
      <div id="illustrationList" class="illustration-list">
        <!-- AIê°€ ìƒì„±í•œ ì˜ˆí™” ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
      </div>
    </div>

    <div class="column right">
      <h2>âœ ì„¤êµë¬¸ ì‘ì„±</h2>
      <textarea id="sermonContent" placeholder="ì„ íƒëœ ì˜ˆí™”ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„¤êµë¬¸ì„ ì‘ì„±í•˜ì„¸ìš”..."></textarea>
      <div class="button-group">
        <button id="generateSermonFromIllustrationBtn">ì˜ˆí™”ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„¤êµ ì‘ì„±</button> <!-- ìƒˆë¡œ ì¶”ê°€ëœ ë²„íŠ¼ -->
        <button id="savePDFBtn">ğŸ“„ PDF ì €ì¥</button>
        <button onclick="window.print()">ğŸ–¨ï¸ ì¸ì‡„</button>
        <button id="clearSermonBtn">ğŸ§¼ ë‚´ìš© ì´ˆê¸°í™”</button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    const backendUrl = 'http://localhost:3000'; // ë°±ì—”ë“œ ì„œë²„ ì£¼ì†Œ

    // --- DOM ìš”ì†Œ ì°¸ì¡° ---
    const illustrationTopicInput = document.getElementById('illustrationTopic');
    const generateIllustrationsBtn = document.getElementById('generateIllustrationsBtn');
    const micBtnTopic = document.getElementById('micBtnTopic');
    const illustrationMessage = document.getElementById('illustrationMessage');
    const illustrationList = document.getElementById('illustrationList');
    const sermonContent = document.getElementById('sermonContent');
    const generateSermonFromIllustrationBtn = document.getElementById('generateSermonFromIllustrationBtn'); // ìƒˆë¡œ ì¶”ê°€ëœ ë²„íŠ¼ ì°¸ì¡°
    const savePDFBtn = document.getElementById('savePDFBtn');
    const clearSermonBtn = document.getElementById('clearSermonBtn');

    // --- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ---

    // UI ìš”ì†Œ í™œì„±í™”/ë¹„í™œì„±í™”
    function setUIState(disabled) {
        const interactiveElements = [
            illustrationTopicInput, generateIllustrationsBtn, micBtnTopic,
            sermonContent, generateSermonFromIllustrationBtn, savePDFBtn, clearSermonBtn
        ];
        interactiveElements.forEach(el => el.disabled = disabled);
    }

    // ë©”ì‹œì§€ í‘œì‹œ
    function displayMessage(element, message, type = 'info') {
        element.textContent = message;
        element.className = 'message-box ' + type;
    }

    // --- API í˜¸ì¶œ í•¨ìˆ˜ ---

    // AIì—ê²Œ ì˜ˆí™” ìƒì„±ì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜
    async function generateIllustrations() {
        const topic = illustrationTopicInput.value.trim();
        if (!topic) {
            displayMessage(illustrationMessage, 'â— ì˜ˆí™” ì£¼ì œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
            return;
        }

        displayMessage(illustrationMessage, 'ğŸ§  AIê°€ ì˜ˆí™”ë¥¼ ìƒì„± ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...', 'loading');
        setUIState(true); // UI ë¹„í™œì„±í™”

        const prompt = `${topic} ì£¼ì œì— ëŒ€í•œ ê¸°ë…êµ ì˜ˆí™” 5ê°œë¥¼ JSON ë°°ì—´ í˜•íƒœë¡œ ìƒì„±í•´ì¤˜. ê° ì˜ˆí™”ëŠ” 3~5ë¬¸ì¥ ì •ë„ë¡œ êµ¬ì„±í•´ì¤˜. ì˜ˆì‹œ: ["ì˜ˆí™”1 ë‚´ìš©", "ì˜ˆí™”2 ë‚´ìš©", ...]`;
        const systemPrompt = "ë‹¹ì‹ ì€ ê¸°ë…êµ ì„¤êµì— ì í•©í•œ ì˜ˆí™”ë¥¼ ì°½ì˜ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” AI ë„ìš°ë¯¸ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ ë‹¤ì–‘í•œ ì£¼ì œì˜ ì˜ˆí™”ë¥¼ ì œê³µí•©ë‹ˆë‹¤.";

        try {
            const response = await fetch(`${backendUrl}/api/ai-process`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ prompt, systemPrompt })
            });

            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.error || response.statusText);
            }

            const data = await response.json();
            let illustrations;
            try {
                // AI ì‘ë‹µì´ JSON ë¬¸ìì—´ í˜•íƒœì¼ ê²ƒìœ¼ë¡œ ì˜ˆìƒí•˜ê³  íŒŒì‹±
                illustrations = JSON.parse(data.content);
                if (!Array.isArray(illustrations) || illustrations.length === 0) {
                    throw new Error('AIê°€ ìœ íš¨í•œ ì˜ˆí™” ëª©ë¡ì„ ë°˜í™˜í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                }
            } catch (parseError) {
                console.error("AI ì‘ë‹µ íŒŒì‹± ì˜¤ë¥˜:", parseError);
                // JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ, ì›ì‹œ í…ìŠ¤íŠ¸ë¥¼ í•œ ì¤„ì”© ë¶„ë¦¬í•˜ì—¬ ì²˜ë¦¬ ì‹œë„
                illustrations = data.content.split('\n').filter(line => line.trim() !== '');
                if (illustrations.length === 0) {
                    throw new Error('AI ì‘ë‹µì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                }
            }

            renderIllustrationList(illustrations);
            displayMessage(illustrationMessage, 'âœ… AI ì˜ˆí™” ì¶”ì²œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ˆí™”ë¥¼ í´ë¦­í•˜ì—¬ ì„¤êµì— ì¶”ê°€í•˜ì„¸ìš”.', 'info');
        } catch (error) {
            displayMessage(illustrationMessage, 'âŒ ì˜ˆí™” ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ' + error.message, 'error');
            console.error("Generate Illustrations Error:", error);
        } finally {
            setUIState(false); // UI í™œì„±í™”
        }
    }

    // ì˜ˆí™” ëª©ë¡ ë Œë”ë§
    function renderIllustrationList(illustrations) {
        illustrationList.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ë¹„ìš°ê¸°
        if (illustrations.length === 0) {
            illustrationList.innerHTML = '<div style="padding:10px; color:#555;">ìƒì„±ëœ ì˜ˆí™”ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
            return;
        }
        illustrations.forEach(ill => {
            const div = document.createElement('div');
            div.className = 'illustration-item';
            div.textContent = ill;
            div.addEventListener('click', () => selectIllustration(ill));
            illustrationList.appendChild(div);
        });
    }

    // ì˜ˆí™” ì„ íƒ ì‹œ ì„¤êµë¬¸ ì‘ì„±ë€ìœ¼ë¡œ ì´ë™ (ì—¬ê¸°ì„œëŠ” ì˜ˆí™” ë³µì‚¬ë§Œ)
    function selectIllustration(illustrationText) {
        sermonContent.value = `[ì˜ˆí™”]\n${illustrationText}\n\n[ì„¤êµ ë³¸ë¡  ì‹œì‘]\n`;
        displayMessage(illustrationMessage, 'âœ… ì˜ˆí™”ê°€ ì„¤êµë¬¸ ì‘ì„±ë€ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ì„¤êµë¥¼ ì‘ì„±í•˜ê±°ë‚˜ AI ì„¤êµ ì‘ì„±ì„ ì‹œë„í•˜ì„¸ìš”.', 'info');
        sermonContent.focus(); // ì„¤êµ ì‘ì„±ë€ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™
    }

    // --- AI ì„¤êµ ìƒì„± ê¸°ëŠ¥ (ìƒˆë¡œ ì¶”ê°€) ---
    async function generateSermonFromIllustration() {
        const illustrationText = sermonContent.value.trim();
        if (!illustrationText || illustrationText.startsWith('[ì˜ˆí™”]\n\n[ì„¤êµ ë³¸ë¡  ì‹œì‘]')) { // ì´ˆê¸° í”Œë ˆì´ìŠ¤í™€ë” ìƒíƒœ
            displayMessage(illustrationMessage, 'â— ë¨¼ì € ì˜ˆí™”ë¥¼ ì„ íƒí•˜ê±°ë‚˜ ì‘ì„±í•œ í›„ ì„¤êµ ìƒì„±ì„ ì‹œë„í•´ì£¼ì„¸ìš”.', 'warning');
            return;
        }

        displayMessage(illustrationMessage, 'ğŸ§  AIê°€ ì„ íƒëœ ì˜ˆí™”ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„¤êµë¬¸ì„ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...', 'loading');
        setUIState(true);

        const prompt = `${illustrationText}\n\nìœ„ ì˜ˆí™” ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ 20ë¶„ ë¶„ëŸ‰ì˜ ê¸°ë…êµ ì„¤êµë¬¸ì„ ì‘ì„±í•´ì¤˜. ì„œë¡ , ë³¸ë¡ (3ê°€ì§€ ì†Œì£¼ì œ), ê²°ë¡ ì„ í¬í•¨í•˜ê³ , ì„±ê²½ì ì´ë©° ì‹¤ì²œì ì¸ ë©”ì‹œì§€ë¥¼ ë‹´ì•„ì¤˜.`;
        const systemPrompt = "ë‹¹ì‹ ì€ ê¸°ë…êµ ì„¤êµ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì œê³µëœ ì˜ˆí™”ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ì„±ê²½ì ì´ê³  ê°ë™ì ì¸ ì„¤êµë¬¸ì„ ì‘ì„±í•©ë‹ˆë‹¤.";

        try {
            const result = await fetch(`${backendUrl}/api/ai-process`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ prompt, systemPrompt })
            });

            if (!result.ok) {
                const errorData = await result.json();
                throw new Error(errorData.error || result.statusText);
            }

            const data = await result.json();
            sermonContent.value = data.content; // ì„¤êµë¬¸ ì‘ì„±ë€ì— AI ì‘ë‹µìœ¼ë¡œ ë®ì–´ì“°ê¸°
            displayMessage(illustrationMessage, 'âœ… AI ì„¤êµ ì‘ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'info');
        } catch (error) {
            displayMessage(illustrationMessage, 'âŒ ì„¤êµ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ' + error.message, 'error');
            console.error("Generate Sermon Error:", error);
        } finally {
            setUIState(false);
        }
    }


    // --- ìŒì„± ì…ë ¥ ê¸°ëŠ¥ ---
    function startMicForTopic() {
        const targetInput = illustrationTopicInput;
        if (!('webkitSpeechRecognition' in window)) {
            displayMessage(illustrationMessage, 'âš ï¸ í¬ë¡¬ ë¸Œë¼ìš°ì €ì—ì„œë§Œ ìŒì„± ì…ë ¥ì´ ì§€ì›ë©ë‹ˆë‹¤.', 'warning');
            return;
        }

        const recognition = new webkitSpeechRecognition();
        recognition.lang = 'ko-KR';
        recognition.interimResults = false; // ìµœì¢… ê²°ê³¼ë§Œ ë°›ê¸°
        recognition.maxAlternatives = 1; // í•˜ë‚˜ì˜ ëŒ€ì•ˆë§Œ ë°›ê¸°

        recognition.onstart = () => {
            micBtnTopic.classList.add('active');
            displayMessage(illustrationMessage, 'ğŸ¤ ìŒì„± ì…ë ¥ì„ ì‹œì‘í•©ë‹ˆë‹¤. ë§ì”€í•˜ì„¸ìš”...', 'info');
            targetInput.value = ''; // ê¸°ì¡´ ë‚´ìš© ì§€ìš°ê³  ì‹œì‘
        };
        recognition.onend = () => {
            micBtnTopic.classList.remove('active');
            displayMessage(illustrationMessage, 'ìŒì„± ì…ë ¥ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
        };
        recognition.onerror = (event) => {
            displayMessage(illustrationMessage, 'âŒ ìŒì„± ì¸ì‹ ì˜¤ë¥˜: ' + event.error, 'error');
            console.error('Speech Recognition Error:', event.error);
            micBtnTopic.classList.remove('active');
        };
        recognition.onresult = (event) => {
            const text = event.results[0][0].transcript;
            targetInput.value = text;
            displayMessage(illustrationMessage, 'âœ… ìŒì„± ì…ë ¥ ì™„ë£Œ: "' + text + '"', 'info');
        };
        
        recognition.start();
    }

    // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²° ---
    generateIllustrationsBtn.addEventListener('click', generateIllustrations);
    micBtnTopic.addEventListener('click', startMicForTopic);
    generateSermonFromIllustrationBtn.addEventListener('click', generateSermonFromIllustration); // ìƒˆë¡œ ì¶”ê°€ëœ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ

    savePDFBtn.addEventListener('click', () => {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        const content = sermonContent.value.trim();

        if (!content) {
            alert('ì €ì¥í•  ì„¤êµë¬¸ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.'); // alertì€ ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€ ë°•ìŠ¤ë¡œ ëŒ€ì²´ ê¶Œì¥
            return;
        }
        
        // í•œê¸€ í°íŠ¸ ë¬¸ì œ í•´ê²°ì€ jspdf-autotableê³¼ ì»¤ìŠ¤í…€ í°íŠ¸ ë¡œë”© í•„ìš”
        // ì—¬ê¸°ì„œëŠ” ê¸°ë³¸ í°íŠ¸ ì‚¬ìš© (í•œê¸€ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ)
        const lines = doc.splitTextToSize(content, 180);
        doc.text(lines, 10, 10);
        doc.save('ì˜ˆí™”_ì„¤êµë¬¸.pdf');
        displayMessage(illustrationMessage, 'âœ… ì„¤êµë¬¸ì´ PDFë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
    });

    clearSermonBtn.addEventListener('click', () => {
      if (confirm('ì„¤êµë¬¸ ë‚´ìš©ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) { // confirmë„ ì‚¬ìš©ì ì •ì˜ ë©”ì‹œì§€ ë°•ìŠ¤ ê¶Œì¥
        sermonContent.value = '';
        displayMessage(illustrationMessage, 'ì„¤êµë¬¸ ë‚´ìš©ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
      }
    });

    // ì´ˆê¸° ë©”ì‹œì§€ ì„¤ì •
    window.onload = () => {
        displayMessage(illustrationMessage, 'AIê°€ ì¶”ì²œí•  ì˜ˆí™”ê°€ ì—¬ê¸°ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.', 'info');
        sermonContent.placeholder = 'ì„ íƒëœ ì˜ˆí™”ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„¤êµë¬¸ì„ ì‘ì„±í•˜ì„¸ìš”...';
    };

  </script>
</body>
</html>
